<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Lane Clash</title>

  <!-- (optional) ask browsers not to cache the HTML; JS is cache-busted via ?v= -->
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />

  <link rel="stylesheet" href="styles/style.css">
</head>
<body>
  <header><div class="title">Lane Clash — Prototype</div></header>

  <main>
    <!-- MENU -->
    <section id="menu" class="panel center">
      <h1 class="brand">Lane Clash</h1>
      <div class="subtitle">A tiny lane strategy prototype</div>
      <div class="menu-buttons">
        <button id="playBtn" class="btn" type="button">Play</button>
        <button id="openEncy" class="btn" type="button">Encyclopedia</button>
        <button id="openLog" class="btn" type="button">Update Log (v0.1.3)</button>
      </div>
      <p class="muted">Blue (you) at the bottom. Red (AI) at the top.</p>
    </section>

    <!-- PLAY -->
    <section id="play" class="panel hidden">
      <div class="toolbar">
        <h2 class="toolbar-title">Play — Blue (You) vs Red (AI)</h2>
        <button id="backFromPlay" class="btn" type="button">Back</button>
      </div>
      <canvas id="game" width="960" height="720" aria-label="Battlefield"></canvas>
      <div class="cardhud">
        <div class="elixirRow">
          <span class="label-ink">Elixir</span>
          <div class="elixirBar"><div id="elixirFill" class="elixirFill"></div></div>
          <span id="elixirText" class="elixirText">0</span>
        </div>
        <div id="cards" class="cards"></div>
        <p class="muted small">Click a card, then click your half to deploy. Tiles will highlight valid spots.</p>
      </div>
    </section>

    <!-- ENCYCLOPEDIA -->
    <section id="ency" class="panel hidden">
      <div class="toolbar">
        <h2 class="toolbar-title">Encyclopedia</h2>
        <button id="backBtn" class="btn" type="button">Back</button>
      </div>
      <!-- (your existing card entries) -->
    </section>

    <!-- UPDATE LOG -->
    <section id="log" class="panel hidden">
      <div class="toolbar">
        <h2 class="toolbar-title">Update Log — v0.1.3</h2>
        <button id="backFromLog" class="btn" type="button">Back</button>
      </div>
      <!-- (your existing log entries) -->
    </section>
  </main>

  <!-- Version seed (used if URL lacks ?v=) -->
  <script>window.__LC_DEF_VER = '0.1.3';</script>

  <!-- NEW: versioned loader + diagnostics (type=module) -->
  <script type="module" src="src/main.js?v=0.1.3"></script>

  <noscript>Please enable JavaScript to run this game.</noscript>
</body>
</html>
