<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Lane Clash</title>
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />
  <link rel="stylesheet" href="styles/style.css">
</head>
<body>
  <header><div class="title">Lane Clash — Prototype</div></header>

  <main>
    <!-- MAIN MENU -->
    <section id="menu" class="panel center" aria-labelledby="menuTitle">
      <h1 id="menuTitle" class="brand">Lane Clash</h1>
      <div class="subtitle">A tiny lane strategy prototype</div>
      <div class="menu-buttons">
        <button id="playBtn" class="btn" type="button">Play</button>
        <button id="openEncy" class="btn" type="button">Encyclopedia</button>
        <button id="openLog" class="btn" type="button">Update Log (v0.1.3c)</button>
      </div>
      <p class="muted">Blue (you) at the bottom. Red (AI) at the top.</p>
    </section>

    <!-- PLAY -->
    <section id="play" class="panel hidden" aria-labelledby="playTitle">
      <div class="toolbar">
        <h2 id="playTitle" class="toolbar-title">Play — Blue (You) vs Red (AI)</h2>
        <button id="backFromPlay" class="btn" type="button">Back</button>
      </div>

      <canvas id="game" width="960" height="720" aria-label="Battlefield"></canvas>

      <div class="cardhud" aria-label="Card and Elixir HUD">
        <div class="elixirRow">
          <span class="label-ink">Elixir</span>
          <div class="elixirBar"><div id="elixirFill" class="elixirFill"></div></div>
          <span id="elixirText" class="elixirText">0</span>
        </div>
        <div id="cards" class="cards"></div>
        <p class="muted small">Click a card, then click your half to deploy. Tiles will highlight valid spots.</p>
      </div>
    </section>

    <!-- ENCYCLOPEDIA -->
    <section id="ency" class="panel hidden" aria-labelledby="encyTitle">
      <div class="toolbar">
        <h2 id="encyTitle" class="toolbar-title">Encyclopedia</h2>
        <button id="backBtn" class="btn" type="button">Back</button>
      </div>
      <div class="entries">
        <!-- Knight -->
        <article class="entry" aria-labelledby="knightTitle">
          <div class="cardFrame"><img src="assets/Knight.png" alt="Knight card (Common, Cost 2)"></div>
          <div class="details">
            <h2 id="knightTitle">Knight <span class="pill">Common</span></h2>
            <div class="grid">
              <div class="label">Elixir Cost</div><div>2</div>
              <div class="label">HP</div><div>100</div>
              <div class="label">DMG</div><div>20 / 1s</div>
              <div class="label">Speed</div><div>1</div>
              <div class="label">Unit Count</div><div>1</div>
            </div>
            <p class="desc">A brave melee fighter with balanced stats and solid defense—trusty and reliable.</p>
          </div>
        </article>

        <!-- Archers -->
        <article class="entry" aria-labelledby="archersTitle">
          <div class="cardFrame"><img src="assets/Archers.png" alt="Archers card (Common, Cost 2)"></div>
          <div class="details">
            <h2 id="archersTitle">Archers <span class="pill">Common</span></h2>
            <div class="grid">
              <div class="label">Elixir Cost</div><div>2</div>
              <div class="label">HP</div><div>60</div>
              <div class="label">DMG</div><div>10 / 0.75s</div>
              <div class="label">Range</div><div>120</div>
              <div class="label">Speed</div><div>1.5</div>
              <div class="label">Unit Count</div><div>2</div>
            </div>
            <p class="desc">Paired ranged attackers that pepper targets from a safe distance.</p>
          </div>
        </article>

        <!-- Mini-MEGA -->
        <article class="entry" aria-labelledby="miniMegaTitle">
          <div class="cardFrame"><img src="assets/Mini-MEGA.png" alt="Mini-MEGA card (Common, Cost 3)"></div>
          <div class="details">
            <h2 id="miniMegaTitle">Mini-MEGA <span class="pill">Common</span></h2>
            <div class="grid">
              <div class="label">Elixir Cost</div><div>3</div>
              <div class="label">HP</div><div>300</div>
              <div class="label">DMG</div><div>80 / 1.5s</div>
              <div class="label">Speed</div><div>0.75</div>
              <div class="label">Unit Count</div><div>1</div>
            </div>
            <p class="desc">A compact, tanky robot with surprising punch power. Slow stride, heavy hit.</p>
          </div>
        </article>
      </div>
    </section>

    <!-- UPDATE LOG -->
    <section id="log" class="panel hidden" aria-labelledby="logTitle">
      <div class="toolbar">
        <h2 id="logTitle" class="toolbar-title">Update Log — v0.1.3c</h2>
        <button id="backFromLog" class="btn" type="button">Back</button>
      </div>

      <article class="changelog">
        <h3>v0.1.3c</h3>
        <h4>Bug Fixes / Stability</h4>
        <ul>
          <li>Rebuilt module loader with single version source to resolve stale-cache and duplicate import issues.</li>
          <li>Restored Encyclopedia and Update Log content to dedicated screens.</li>
        </ul>
        <h4>Misc</h4>
        <ul>
          <li>Diagnostics panel (press <kbd>D</kbd>, or add <code>?debug=1</code>).</li>
        </ul>
      </article>

      <article class="changelog">
        <h3>v0.1.3</h3>
        <ul>
          <li>Bridge exit waypoints placed beyond the river so troops flip from <em>toBridge</em> → <em>attack</em>.</li>
          <li>Bridges & lane towers moved farther apart.</li>
        </ul>
      </article>

      <article class="changelog">
        <h3>v0.1.2</h3>
        <ul>
          <li>Added bridge waypoints and stabilized lane-local defense; no more oscillation.</li>
        </ul>
      </article>

      <article class="changelog">
        <h3>v0.1.1</h3>
        <h4>Balance</h4>
        <ul>
          <li><strong>Archers</strong>: 15 / 0.5s → <strong>10 / 0.75s</strong>; Range 120.</li>
        </ul>
        <h4>Misc</h4>
        <ul>
          <li>Placement tiles and segmented elixir bar.</li>
          <li>Update Log screen added.</li>
        </ul>
      </article>
    </section>
  </main>

  <!-- Single source of truth for version -->
  <script>window.__LC_DEF_VER = '0.1.3d';</script>
  <script type="module" src="src/main.js?v=0.1.3d"></script>
  <noscript>Please enable JavaScript to run this game.</noscript>
</body>
</html>
