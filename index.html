<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Lane Clash — Prototype</title>
  <link rel="stylesheet" href="./styles.css" />
</head>
<body>
  <header class="site-header">
    <h1>Lane Clash</h1>
    <p class="tagline">A tiny lane-strategy prototype</p>
  </header>

  <!-- Main Menu -->
  <section id="screenMenu" class="screen">
    <div class="card">
      <div class="btn-row">
        <button id="btnPlay" class="btn primary">Play</button>
        <button id="btnEncyclopedia" class="btn">Encyclopedia</button>
        <button id="btnUpdateLog" class="btn">Update Log</button>
      </div>
      <p class="hint">Blue (you) at the bottom. Red (AI) at the top.</p>
    </div>
  </section>

  <!-- Play Screen -->
  <section id="screenPlay" class="screen" style="display:none">
    <div class="toolbar">
      <div class="title">Play — Blue (You) vs Red (AI)</div>
      <button id="btnBackFromPlay" class="btn small">Back</button>
    </div>

    <canvas id="game" class="game"></canvas>

    <div class="hand">
      <div id="hand0" class="hand-slot"></div>
      <div id="hand1" class="hand-slot"></div>
    </div>

    <p class="ins">
      Click a card (or press <kbd>1</kbd>/<kbd>2</kbd>), then click your half to deploy.
      Valid tiles highlight in green. Elixir: +1 / 2s.
    </p>
  </section>

  <!-- Encyclopedia -->
  <section id="screenEncyclopedia" class="screen" style="display:none">
    <div class="toolbar">
      <div class="title">Encyclopedia</div>
      <button id="btnBackFromEnc" class="btn small">Back</button>
    </div>

    <!-- Encyclopedia Tabs -->
    <div class="ency-tabs">
      <button id="tabCards" class="ency-tab active">Cards</button>
      <button id="tabProgression" class="ency-tab">Progression</button>
    </div>

    <!-- Cards Tab Content -->
    <div id="tabContentCards" class="ency tab-content" style="display:block">
      <article class="entry">
        <img src="./assets/Knight.png" alt="Knight card" />
        <div>
          <h3>Knight <span class="rar rar-common">COMMON</span></h3>
          <ul class="stats">
            <li>Elixir Cost: 2</li>
            <li>HP: 100</li>
            <li>DMG: 20 / 1.0s</li>
            <li>Speed: 60 px/s</li>
            <li>Unit Count: 1</li>
          </ul>
          <p>A brave melee fighter with steady stats and reliable defense.</p>
        </div>
      </article>

      <article class="entry">
        <img src="./assets/Archers.png" alt="Archers card" />
        <div>
          <h3>Archers <span class="rar rar-common">COMMON</span></h3>
          <ul class="stats">
            <li>Elixir Cost: 2</li>
            <li>HP: 60</li>
            <li>DMG: 10 / 0.75s</li>
            <li>Range: 120</li>
            <li>Speed: 90 px/s</li>
            <li>Unit Count: 2</li>
          </ul>
          <p>Paired ranged attackers with precise volleys from a safe distance.</p>
        </div>
      </article>

      <article class="entry">
        <img src="./assets/Mini-MEGA.png" alt="Mini-MEGA card" />
        <div>
          <h3>Mini-MEGA <span class="rar rar-common">COMMON</span></h3>
          <ul class="stats">
            <li>Elixir Cost: 3</li>
            <li>HP: 300</li>
            <li>DMG: 80 / 1.5s</li>
            <li>Speed: 45 px/s</li>
            <li>Unit Count: 1</li>
          </ul>
          <p>A compact bot that trades speed for crushing punches.</p>
        </div>
      </article>
    </div>

    <!-- Progression Tab Content -->
    <div id="tabContentProgression" class="tab-content" style="display:none">
      <div class="card">
        <h3>Card Progression System</h3>
        <p>Upgrade your cards to increase their effectiveness in battle. Each card can be upgraded from Level 0 to Level 5.</p>

        <h4>Earning Coins</h4>
        <p>Coins are earned during battle based on damage dealt:</p>
        <ul class="stats">
          <li><strong>Earn Rate:</strong> 0.1 coins per 1 damage dealt</li>
          <li><strong>Example:</strong> Dealing 100 damage = 10 coins earned</li>
        </ul>

        <h4>Upgrade Costs</h4>

        <div class="progression-tier">
          <h5>Common Cards <span class="rar rar-common">COMMON</span></h5>
          <p class="muted">Knight, Archers, Mini-MEGA</p>
          <table class="upgrade-table">
            <thead>
              <tr>
                <th>Level</th>
                <th>Cost</th>
              </tr>
            </thead>
            <tbody>
              <tr><td>0 → 1</td><td>100 Coins</td></tr>
              <tr><td>1 → 2</td><td>250 Coins</td></tr>
              <tr><td>2 → 3</td><td>500 Coins</td></tr>
              <tr><td>3 → 4</td><td>1,000 Coins</td></tr>
              <tr><td>4 → 5</td><td>2,500 Coins</td></tr>
              <tr class="total-row"><td><strong>Total</strong></td><td><strong>4,350 Coins</strong></td></tr>
            </tbody>
          </table>
        </div>

        <div class="progression-tier">
          <h5>Rare Cards <span class="rar rar-rare">RARE</span></h5>
          <p class="muted">Future rare cards</p>
          <table class="upgrade-table">
            <thead>
              <tr>
                <th>Level</th>
                <th>Cost</th>
              </tr>
            </thead>
            <tbody>
              <tr><td>0 → 1</td><td>200 Coins</td></tr>
              <tr><td>1 → 2</td><td>500 Coins</td></tr>
              <tr><td>2 → 3</td><td>1,000 Coins</td></tr>
              <tr><td>3 → 4</td><td>2,000 Coins</td></tr>
              <tr><td>4 → 5</td><td>5,000 Coins</td></tr>
              <tr class="total-row"><td><strong>Total</strong></td><td><strong>8,700 Coins</strong></td></tr>
            </tbody>
          </table>
        </div>

        <p class="hint" style="margin-top: 20px;">
          <strong>Note:</strong> Upgrade functionality will be implemented in a future update. This information is provided for reference.
        </p>
      </div>
    </div>
  </section>

  <!-- Update Log -->
  <section id="screenUpdateLog" class="screen" style="display:none">
    <div class="toolbar">
      <div class="title">Update Log</div>
      <button id="btnBackFromLog" class="btn small">Back</button>
    </div>

    <div class="card">
      <h3>v0.1.5</h3>
      <ul>
        <li>Fixed archers to properly use ranged combat: now hold position and shoot instead of charging like melee units.</li>
        <li>Corrected Encyclopedia speed values to match actual game values (px/s units).</li>
      </ul>
      <h3>v0.1.4</h3>
      <ul>
        <li>Lane paths and AI tightened; small on-path separation; ranged standoff.</li>
        <li>Diagnostics always on (toggle with <kbd>D</kbd>); game loop crash-proof.</li>
      </ul>
      <h3>v0.1.3</h3>
      <ul>
        <li>Grid placement overlay and segmented (10) elixir bar.</li>
        <li>Menu/UI fixes and clearer IDs.</li>
      </ul>
      <h3>v0.1.2</h3>
      <ul>
        <li>Initial pathing across bridges and water as no-go.</li>
      </ul>
      <h3>v0.1.1</h3>
      <ul>
        <li>Encyclopedia &amp; update log screens; styling pass.</li>
      </ul>
    </div>
  </section>

  <!-- Single entry module -->
  <script type="module" src="./src/main.js?v=0.1.5"></script>
</body>
</html>
